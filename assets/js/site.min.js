!function(){"use strict";function e(e,t,o,i,r){function a(n){if(s)return r(new Error("Scroll cancelled"),t[e]);var i=+new Date,f=Math.min(1,(i-c)/l),m=d(f);t[e]=m*(o-u)+u,h(f<1?a:function(){r(null,t[e])})}var c=+new Date,u=t[e],s=!1,d=n,l=350;return"function"==typeof i?r=i:(d=(i=i||{}).ease||d,l=i.duration||l,r=r||function(){}),u===o?r(new Error("Element already at target scroll position"),t[e]):(h(a),function(){s=!0})}function n(e){return.5*(1-Math.cos(Math.PI*e))}var t=function(e){var n=new XMLHttpRequest,t=function(){};return n.open("GET",e,!0),{then:function(e){return n.onload=function(){(this.status<200||this.status>=400)&&t&&t(this),e(this.response)},n.onerror=t,n.send(),{catch:function(e){t=e}}}}};t("/assets/icons/sprite.svg").then(function(e){var n=document.createElement("figure");n.style.display="none",n.innerHTML=e,document.body.insertBefore(n,document.body.children[0])}).catch(function(e){console.warn("Icon spritesheet could not be loaded\n",e)});var o=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)},i=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return[].concat(function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(n.querySelectorAll(e)))},r=o("[data-timer]"),a=0,c=i("[data-slide]").map(function(e,n){return n?e.classList.remove("active-slide"):e.classList.add("active-slide"),e}),u=function(){c[a].classList.remove("active-slide"),a=a+1===c.length?0:a+1,c[a].classList.add("active-slide"),r.classList.add("running")};r.addEventListener("transitionend",function(){r.classList.remove("running"),setTimeout(u,125)}),setTimeout(function(){r.classList.add("running")},250);var s="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},d="undefined"!=typeof window?window:void 0!==s?s:"undefined"!=typeof self?self:{},l=Object.freeze({default:d,__moduleExports:d}),f=l&&d||l,m=function(e,n){return n={exports:{}},e(n,n.exports),n.exports}(function(e,n){var t=f.requestAnimationFrame||f.webkitRequestAnimationFrame||f.mozRequestAnimationFrame||function(e){var n=+new Date,t=Math.max(0,16-(n-o)),i=setTimeout(e,t);return o=n,i},o=+new Date,i=f.cancelAnimationFrame||f.webkitCancelAnimationFrame||f.mozCancelAnimationFrame||clearTimeout;Function.prototype.bind&&(t=t.bind(f),i=i.bind(f)),(e.exports=t).cancel=i}),p=m.cancel,v=Object.freeze({default:m,__moduleExports:m,cancel:p}),h=v&&m||v,g=function(n,t,o,i){return e("scrollTop",n,t,o,i)},w=function(e){return document.documentElement.scrollTop+o(e).getBoundingClientRect().top-o("[data-header]").clientHeight},y=function(e){e.preventDefault(),g(document.documentElement,w(this.getAttribute("href")),{duration:500})};i("[data-scroll-to]").forEach(function(e){e.addEventListener("click",y)});var E=document.documentElement,b=o("[data-header]"),L=void 0,A=void 0,k=void 0,M=function(){(L>5&&!k||L<=5&&k)&&(k=b.classList.toggle("header--docked")),A=!1};window.addEventListener("scroll",function(){A||requestAnimationFrame(M),A=!0,L=E.scrollTop});i("[data-card]").forEach(function(e){i("[data-card-flip]",e).forEach(function(n){n.addEventListener("click",function(e){return function(){return e.classList.add("card--flip")}}(e))}),i("[data-card-unflip]",e).forEach(function(n){n.addEventListener("click",function(e){return function(){return e.classList.remove("card--flip")}}(e))})});t("/assets/data/map-config.json").then(function(e){var n=JSON.parse(e),t=n.key,o=n.options,i=n.marker,r=function(){return new google.maps.Map(document.getElementById("map"),o)},a=function(e){return new google.maps.Marker({position:i,map:e})};window.initMap=function(){a(r())},document.body.appendChild(function(e){var n=document.createElement("script");return n.setAttribute("async",""),n.setAttribute("defer",""),n.setAttribute("src","https://maps.googleapis.com/maps/api/js?key="+e+"&callback=initMap"),n}(t))}).catch(function(e){return console.log(e)})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9zY3JvbGwvaW5kZXguanMiLCJzY3JpcHRzL21vZHVsZXMvZmV0Y2guanMiLCJzY3JpcHRzL21vZHVsZXMvaWNvbi1zcHJpdGUuanMiLCJzY3JpcHRzL21vZHVsZXMvZG9tLWhlbHBlcnMuanMiLCJzY3JpcHRzL21vZHVsZXMvc2xpZGVyLmpzIiwibm9kZV9tb2R1bGVzL2dsb2JhbC93aW5kb3cuanMiLCJub2RlX21vZHVsZXMvcmFmbC9pbmRleC5qcyIsInNjcmlwdHMvbW9kdWxlcy9zY3JvbGwtdG8uanMiLCJzY3JpcHRzL21vZHVsZXMvZG9jay1oZWFkZXIuanMiLCJzY3JpcHRzL21vZHVsZXMvY2FyZC1mbGlwLmpzIiwic2NyaXB0cy9tb2R1bGVzL2dvb2dsZS1tYXAuanMiXSwibmFtZXMiOlsic2Nyb2xsIiwicHJvcCIsImVsZW1lbnQiLCJ0byIsIm9wdGlvbnMiLCJjYWxsYmFjayIsImFuaW1hdGUiLCJ0aW1lc3RhbXAiLCJjYW5jZWxsZWQiLCJFcnJvciIsIm5vdyIsIkRhdGUiLCJ0aW1lIiwiTWF0aCIsIm1pbiIsInN0YXJ0IiwiZHVyYXRpb24iLCJlYXNlZCIsImVhc2UiLCJmcm9tIiwicmFmIiwiaW5PdXRTaW5lIiwibiIsImNvcyIsIlBJIiwiZmV0Y2giLCJ1cmkiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsImVycm9ySGFuZGxlciIsIm9wZW4iLCJjYiIsIm9ubG9hZCIsInRoaXMiLCJzdGF0dXMiLCJyZXNwb25zZSIsIm9uZXJyb3IiLCJzZW5kIiwiaGFuZGxlciIsInRoZW4iLCJzcHJpdGUiLCJmaWd1cmUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsImRpc3BsYXkiLCJpbm5lckhUTUwiLCJib2R5IiwiaW5zZXJ0QmVmb3JlIiwiY2hpbGRyZW4iLCJjYXRjaCIsImVyciIsIndhcm4iLCJkb20iLCJxdWVyeSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInF1ZXJ5U2VsZWN0b3IiLCJzY29wZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0aW1lciIsImluZGV4Iiwic2xpZGVzIiwibWFwIiwibm9kZSIsImkiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJzd2FwU2xpZGVzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNldFRpbWVvdXQiLCJ3aW5kb3dfMSIsIndpbmRvdyIsImdsb2JhbCIsInNlbGYiLCJyZXF1ZXN0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZm4iLCJjdXJyIiwibXMiLCJtYXgiLCJwcmV2IiwicmVxIiwiY2FuY2VsIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSIsIm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY2xlYXJUaW1lb3V0IiwiRnVuY3Rpb24iLCJwcm90b3R5cGUiLCJiaW5kIiwibW9kdWxlIiwic2Nyb2xsXzEiLCJyZXNvbHZlVGFyZ2V0IiwiaWQiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JvbGxUb3AiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJjbGllbnRIZWlnaHQiLCJzY3JvbGxIYW5kbGVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZ2V0QXR0cmlidXRlIiwiZm9yRWFjaCIsInBhZ2UiLCJoZWFkZXIiLCJidWZmZXIiLCJkb2NrZWQiLCJ1cGRhdGUiLCJ0b2dnbGUiLCJmbGlwTm9kZSIsImdldEZsaXBIYW5kbGVyIiwidW5mbGlwTm9kZSIsImdldFVuZmxpcEhhbmRsZXIiLCJjb25maWciLCJKU09OIiwicGFyc2UiLCJrZXkiLCJfSlNPTiRwYXJzZSIsInBvc2l0aW9uIiwibWFya2VyIiwiaW5pdCIsImdvb2dsZSIsIm1hcHMiLCJNYXAiLCJnZXRFbGVtZW50QnlJZCIsIk1hcmtlciIsImluaXRNYXAiLCJhcHBlbmRDaGlsZCIsInRhZyIsInNldEF0dHJpYnV0ZSIsImdldFNjcmlw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RWRDLEVBQ0Msa0JBQU0sSUFBSUMsT0FBT0MsS0FBS0MsSUFBSXZGLFNBQVN3RixlQUFlLE9BQVE5SCxJQUQzRDBILEVBRUksU0FBQzlELFVBQVEsSUFBSStELE9BQU9DLEtBQUtHLFFBQVNQLFNBQUFBLEVBQVU1RCxJQUFBQSxZQUcvQ29FLFFBQVUsYUFDSE4sZUFHTC9FLEtBQUtzRixZQXJCRyxTQUFDWCxPQUNoQlksRUFBTTVGLFNBQVNDLGNBQWMsbUJBQzdCNEYsYUFBYSxRQUFTLE1BQ3RCQSxhQUFhLFFBQVMsTUFDdEJBLGFBQWEsTUFBakIsK0NBQXVFYixFQUF2RSxxQkFDT1ksRUFnQnFCRSxDQUFhZCxNQUV4Q3hFLE1BQU0sU0FBQUMsVUFBT3NGLFFBQVFDLElBQUl2RiIsImZpbGUiOiJzaXRlLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHJhZiA9IHJlcXVpcmUoJ3JhZmwnKVxuXG5mdW5jdGlvbiBzY3JvbGwgKHByb3AsIGVsZW1lbnQsIHRvLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICB2YXIgc3RhcnQgPSArbmV3IERhdGVcbiAgdmFyIGZyb20gPSBlbGVtZW50W3Byb3BdXG4gIHZhciBjYW5jZWxsZWQgPSBmYWxzZVxuXG4gIHZhciBlYXNlID0gaW5PdXRTaW5lXG4gIHZhciBkdXJhdGlvbiA9IDM1MFxuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0aW9uc1xuICB9XG4gIGVsc2Uge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gICAgZWFzZSA9IG9wdGlvbnMuZWFzZSB8fCBlYXNlXG4gICAgZHVyYXRpb24gPSBvcHRpb25zLmR1cmF0aW9uIHx8IGR1cmF0aW9uXG4gICAgY2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbiAoKSB7fVxuICB9XG5cbiAgaWYgKGZyb20gPT09IHRvKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKFxuICAgICAgbmV3IEVycm9yKCdFbGVtZW50IGFscmVhZHkgYXQgdGFyZ2V0IHNjcm9sbCBwb3NpdGlvbicpLFxuICAgICAgZWxlbWVudFtwcm9wXVxuICAgIClcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCAoKSB7XG4gICAgY2FuY2VsbGVkID0gdHJ1ZVxuICB9XG5cbiAgZnVuY3Rpb24gYW5pbWF0ZSAodGltZXN0YW1wKSB7XG4gICAgaWYgKGNhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKFxuICAgICAgICBuZXcgRXJyb3IoJ1Njcm9sbCBjYW5jZWxsZWQnKSxcbiAgICAgICAgZWxlbWVudFtwcm9wXVxuICAgICAgKVxuICAgIH1cblxuICAgIHZhciBub3cgPSArbmV3IERhdGVcbiAgICB2YXIgdGltZSA9IE1hdGgubWluKDEsICgobm93IC0gc3RhcnQpIC8gZHVyYXRpb24pKVxuICAgIHZhciBlYXNlZCA9IGVhc2UodGltZSlcblxuICAgIGVsZW1lbnRbcHJvcF0gPSAoZWFzZWQgKiAodG8gLSBmcm9tKSkgKyBmcm9tXG5cbiAgICB0aW1lIDwgMSA/IHJhZihhbmltYXRlKSA6IHJhZihmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCBlbGVtZW50W3Byb3BdKVxuICAgIH0pXG4gIH1cblxuICByYWYoYW5pbWF0ZSlcblxuICByZXR1cm4gY2FuY2VsXG59XG5cbmZ1bmN0aW9uIGluT3V0U2luZSAobikge1xuICByZXR1cm4gLjUgKiAoMSAtIE1hdGguY29zKE1hdGguUEkgKiBuKSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHRvcDogZnVuY3Rpb24gKGVsZW1lbnQsIHRvLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBzY3JvbGwoJ3Njcm9sbFRvcCcsIGVsZW1lbnQsIHRvLCBvcHRpb25zLCBjYWxsYmFjaylcbiAgfSxcbiAgbGVmdDogZnVuY3Rpb24gKGVsZW1lbnQsIHRvLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBzY3JvbGwoJ3Njcm9sbExlZnQnLCBlbGVtZW50LCB0bywgb3B0aW9ucywgY2FsbGJhY2spXG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0ICh1cmkpID0+IHtcbiAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcbiAgbGV0IGVycm9ySGFuZGxlciA9ICgpID0+IHt9XG5cbiAgeGhyLm9wZW4oJ0dFVCcsIHVyaSwgdHJ1ZSlcblxuICByZXR1cm4ge1xuICAgIHRoZW46IChjYikgPT4ge1xuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBsZXQgdmFsaWRSZXNwb25zZSA9IHRoaXMuc3RhdHVzIDwgMjAwIHx8IHRoaXMuc3RhdHVzID49IDQwMFxuICAgICAgICBpZiAodmFsaWRSZXNwb25zZSAmJiBlcnJvckhhbmRsZXIpIGVycm9ySGFuZGxlcih0aGlzKVxuICAgICAgICBjYih0aGlzLnJlc3BvbnNlKVxuICAgICAgfVxuXG4gICAgICB4aHIub25lcnJvciA9IGVycm9ySGFuZGxlclxuICAgICAgeGhyLnNlbmQoKVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjYXRjaDogKGhhbmRsZXIpID0+IHsgZXJyb3JIYW5kbGVyID0gaGFuZGxlciB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgZmV0Y2ggZnJvbSAnLi9mZXRjaCdcblxuZmV0Y2goJy9hc3NldHMvaWNvbnMvc3ByaXRlLnN2ZycpXG4gIC50aGVuKHNwcml0ZSA9PiB7XG4gICAgbGV0IGZpZ3VyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ZpZ3VyZScpXG4gICAgZmlndXJlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSdcbiAgICBmaWd1cmUuaW5uZXJIVE1MID0gc3ByaXRlXG4gICAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoZmlndXJlLCBkb2N1bWVudC5ib2R5LmNoaWxkcmVuWzBdKVxuICB9KVxuICAuY2F0Y2goZXJyID0+IHtcbiAgICBjb25zb2xlLndhcm4oJ0ljb24gc3ByaXRlc2hlZXQgY291bGQgbm90IGJlIGxvYWRlZFxcbicsIGVycilcbiAgfSlcbiIsImNvbnN0IGZpbmQgPSAocXVlcnksIHNjb3BlID0gZG9jdW1lbnQpID0+XG4gIHNjb3BlLnF1ZXJ5U2VsZWN0b3IocXVlcnkpXG5cbmNvbnN0IGZpbmRBbGwgPSAocXVlcnksIHNjb3BlID0gZG9jdW1lbnQpID0+XG4gIFsuLi5zY29wZS5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJ5KV1cblxuXG5leHBvcnQgZGVmYXVsdCB7IGZpbmQsIGZpbmRBbGwgfVxuIiwiaW1wb3J0IGRvbSBmcm9tICcuL2RvbS1oZWxwZXJzJ1xuXG5jb25zdCB0aW1lciA9IGRvbS5maW5kKCdbZGF0YS10aW1lcl0nKVxubGV0IGluZGV4ID0gMFxuXG5jb25zdCBzbGlkZXMgPSBkb20uZmluZEFsbCgnW2RhdGEtc2xpZGVdJylcbiAgLm1hcCgobm9kZSwgaSkgPT4ge1xuICAgIGlmICghaSkgbm9kZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtc2xpZGUnKVxuICAgIGVsc2Ugbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUtc2xpZGUnKVxuICAgIHJldHVybiBub2RlXG4gIH0pXG5cbmNvbnN0IHN3YXBTbGlkZXMgPSAoKSA9PiB7XG4gIHNsaWRlc1tpbmRleF0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlLXNsaWRlJylcbiAgaW5kZXggPSAoaW5kZXggKyAxID09PSBzbGlkZXMubGVuZ3RoKSA/IDAgOiBpbmRleCArIDFcbiAgc2xpZGVzW2luZGV4XS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtc2xpZGUnKVxuICB0aW1lci5jbGFzc0xpc3QuYWRkKCdydW5uaW5nJylcbn1cblxudGltZXIuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsICgpID0+IHtcbiAgdGltZXIuY2xhc3NMaXN0LnJlbW92ZSgncnVubmluZycpXG4gIHNldFRpbWVvdXQoc3dhcFNsaWRlcywgMTI1KVxufSlcblxuc2V0VGltZW91dCgoKSA9PiB7XG4gIHRpbWVyLmNsYXNzTGlzdC5hZGQoJ3J1bm5pbmcnKVxufSwgMjUwKVxuIiwidmFyIHdpbjtcblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB3aW4gPSB3aW5kb3c7XG59IGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB3aW4gPSBnbG9iYWw7XG59IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKXtcbiAgICB3aW4gPSBzZWxmO1xufSBlbHNlIHtcbiAgICB3aW4gPSB7fTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3aW47XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnZ2xvYmFsJylcblxuLyoqXG4gKiBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKClgXG4gKi9cblxudmFyIHJlcXVlc3QgPSBnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gIHx8IGdsb2JhbC53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgfHwgZ2xvYmFsLm1velJlcXVlc3RBbmltYXRpb25GcmFtZVxuICB8fCBmYWxsYmFja1xuXG52YXIgcHJldiA9ICtuZXcgRGF0ZVxuZnVuY3Rpb24gZmFsbGJhY2sgKGZuKSB7XG4gIHZhciBjdXJyID0gK25ldyBEYXRlXG4gIHZhciBtcyA9IE1hdGgubWF4KDAsIDE2IC0gKGN1cnIgLSBwcmV2KSlcbiAgdmFyIHJlcSA9IHNldFRpbWVvdXQoZm4sIG1zKVxuICByZXR1cm4gcHJldiA9IGN1cnIsIHJlcVxufVxuXG4vKipcbiAqIGBjYW5jZWxBbmltYXRpb25GcmFtZSgpYFxuICovXG5cbnZhciBjYW5jZWwgPSBnbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWVcbiAgfHwgZ2xvYmFsLndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lXG4gIHx8IGdsb2JhbC5tb3pDYW5jZWxBbmltYXRpb25GcmFtZVxuICB8fCBjbGVhclRpbWVvdXRcblxuaWYgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kKSB7XG4gIHJlcXVlc3QgPSByZXF1ZXN0LmJpbmQoZ2xvYmFsKVxuICBjYW5jZWwgPSBjYW5jZWwuYmluZChnbG9iYWwpXG59XG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVlc3RcbmV4cG9ydHMuY2FuY2VsID0gY2FuY2VsXG4iLCJpbXBvcnQgc2Nyb2xsIGZyb20gJ3Njcm9sbCdcbmltcG9ydCBkb20gZnJvbSAnLi9kb20taGVscGVycydcblxuY29uc3QgbmF2SGVpZ2h0ID0gKCkgPT5cbiAgZG9tLmZpbmQoJ1tkYXRhLWhlYWRlcl0nKS5jbGllbnRIZWlnaHRcblxuY29uc3QgcmVzb2x2ZVRhcmdldCA9IChpZCkgPT5cbiAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCArIGRvbS5maW5kKGlkKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLSBuYXZIZWlnaHQoKVxuXG5jb25zdCBzY3JvbGxIYW5kbGVyID0gZnVuY3Rpb24oZSkge1xuICBlLnByZXZlbnREZWZhdWx0KClcbiAgc2Nyb2xsLnRvcChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHJlc29sdmVUYXJnZXQodGhpcy5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSksIHsgZHVyYXRpb246IDUwMCB9KVxufVxuXG5kb20uZmluZEFsbCgnW2RhdGEtc2Nyb2xsLXRvXScpXG4gIC5mb3JFYWNoKG5vZGUgPT4ge1xuICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzY3JvbGxIYW5kbGVyKVxuICB9KVxuIiwiaW1wb3J0IGRvbSBmcm9tICcuL2RvbS1oZWxwZXJzJ1xuXG5jb25zdCBwYWdlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XG5jb25zdCBoZWFkZXIgPSBkb20uZmluZCgnW2RhdGEtaGVhZGVyXScpXG5sZXQgc2Nyb2xsLCBidWZmZXIsIGRvY2tlZFxuXG5cbmNvbnN0IHVwZGF0ZSA9ICgpID0+IHtcbiAgbGV0IGRvY2sgPSBzY3JvbGwgPiA1ICYmICFkb2NrZWRcbiAgbGV0IHVuZG9jayA9IHNjcm9sbCA8PSA1ICYmIGRvY2tlZFxuXG4gIGlmIChkb2NrIHx8IHVuZG9jaykgZG9ja2VkID0gaGVhZGVyLmNsYXNzTGlzdC50b2dnbGUoJ2hlYWRlci0tZG9ja2VkJylcbiAgYnVmZmVyID0gZmFsc2Vcbn1cblxuY29uc3QgcmVxdWVzdFVwZGF0ZSA9ICgpID0+IHtcbiAgaWYgKCFidWZmZXIpIHJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGUpXG4gIGJ1ZmZlciA9IHRydWVcbiAgc2Nyb2xsID0gcGFnZS5zY3JvbGxUb3Bcbn1cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHJlcXVlc3RVcGRhdGUpXG4iLCJpbXBvcnQgZG9tIGZyb20gJy4vZG9tLWhlbHBlcnMnXG5cbmNvbnN0IGdldEZsaXBIYW5kbGVyID0gKG5vZGUpID0+ICgpID0+IG5vZGUuY2xhc3NMaXN0LmFkZCgnY2FyZC0tZmxpcCcpXG5jb25zdCBnZXRVbmZsaXBIYW5kbGVyID0gKG5vZGUpID0+ICgpID0+IG5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnY2FyZC0tZmxpcCcpXG5cbmRvbS5maW5kQWxsKCdbZGF0YS1jYXJkXScpXG4gIC5mb3JFYWNoKG5vZGUgPT4ge1xuICAgIGRvbS5maW5kQWxsKCdbZGF0YS1jYXJkLWZsaXBdJywgbm9kZSlcbiAgICAgIC5mb3JFYWNoKGZsaXBOb2RlID0+IHtcbiAgICAgICAgZmxpcE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBnZXRGbGlwSGFuZGxlcihub2RlKSlcbiAgICAgIH0pXG5cbiAgICBkb20uZmluZEFsbCgnW2RhdGEtY2FyZC11bmZsaXBdJywgbm9kZSlcbiAgICAgIC5mb3JFYWNoKHVuZmxpcE5vZGUgPT4ge1xuICAgICAgICB1bmZsaXBOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZ2V0VW5mbGlwSGFuZGxlcihub2RlKSlcbiAgICAgIH0pXG4gIH0pXG4iLCJpbXBvcnQgZmV0Y2ggZnJvbSAnLi9mZXRjaCdcblxuY29uc3QgZ2V0U2NyaXB0VGFnID0gKGtleSkgPT4ge1xuICBsZXQgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JylcbiAgdGFnLnNldEF0dHJpYnV0ZSgnYXN5bmMnLCAnJylcbiAgdGFnLnNldEF0dHJpYnV0ZSgnZGVmZXInLCAnJylcbiAgdGFnLnNldEF0dHJpYnV0ZSgnc3JjJywgYGh0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9qcz9rZXk9JHtrZXl9JmNhbGxiYWNrPWluaXRNYXBgKVxuICByZXR1cm4gdGFnXG59XG5cbmZldGNoKCcvYXNzZXRzL2RhdGEvbWFwLWNvbmZpZy5qc29uJylcbiAgLnRoZW4oY29uZmlnID0+IHtcbiAgICBsZXQgeyBrZXksIG9wdGlvbnMsIG1hcmtlcjogcG9zaXRpb24gfSA9IEpTT04ucGFyc2UoY29uZmlnKVxuXG4gICAgY29uc3QgaW5pdCA9IHtcbiAgICAgIG1hcDogKCkgPT4gbmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwJyksIG9wdGlvbnMpLFxuICAgICAgbWFya2VyOiAobWFwKSA9PiBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHsgcG9zaXRpb24sIG1hcCB9KVxuICAgIH1cblxuICAgIHdpbmRvdy5pbml0TWFwID0gKCkgPT4ge1xuICAgICAgaW5pdC5tYXJrZXIoaW5pdC5tYXAoKSlcbiAgICB9XG5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGdldFNjcmlwdFRhZyhrZXkpKVxuICB9KVxuICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpXG4iXX0=
