!function(){"use strict";function n(n,t,o,r,i){function a(e){if(d)return i(new Error("Scroll cancelled"),t[n]);var r=+new Date,m=Math.min(1,(r-c)/f),p=l(m);t[n]=p*(o-u)+u,s(m<1?a:function(){i(null,t[n])})}var c=+new Date,u=t[n],d=!1,l=e,f=350;return"function"==typeof r?i=r:(l=(r=r||{}).ease||l,f=r.duration||f,i=i||function(){}),u===o?i(new Error("Element already at target scroll position"),t[n]):(s(a),function(){d=!0})}function e(n){return.5*(1-Math.cos(Math.PI*n))}var t=function(n){var e=new XMLHttpRequest,t=function(){};return e.open("GET",n,!0),{then:function(n){return e.onload=function(){(this.status<200||this.status>=400)&&t&&t(this),n(this.response)},e.onerror=t,e.send(),{catch:function(n){t=n}}}}};t("/assets/icons/sprite.svg").then(function(n){var e=document.createElement("figure");e.style.display="none",e.innerHTML=n,document.body.insertBefore(e,document.body.children[0])}).catch(function(n){console.warn("Icon spritesheet could not be loaded\n",n)});var o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r="undefined"!=typeof window?window:void 0!==o?o:"undefined"!=typeof self?self:{},i=Object.freeze({default:r,__moduleExports:r}),a=i&&r||i,c=function(n,e){return e={exports:{}},n(e,e.exports),e.exports}(function(n,e){var t=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||function(n){var e=+new Date,t=Math.max(0,16-(e-o)),r=setTimeout(n,t);return o=e,r},o=+new Date,r=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||clearTimeout;Function.prototype.bind&&(t=t.bind(a),r=r.bind(a)),(n.exports=t).cancel=r}),u=c.cancel,d=Object.freeze({default:c,__moduleExports:c,cancel:u}),s=d&&c||d,l=function(e,t,o,r){return n("scrollTop",e,t,o,r)},f=function(n){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(n)},m=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return[].concat(function(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}(e.querySelectorAll(n)))},p=function(n){n.preventDefault(),l(document.documentElement,function(n){return document.documentElement.scrollTop+f(n).getBoundingClientRect().top}(this.getAttribute("href")),{duration:500})};m("[data-scroll-to]").forEach(function(n){n.addEventListener("click",p)});var h=document.documentElement,v=f("[data-header]"),w=void 0,g=void 0,y=void 0,E=function(){(w>5&&!y||w<=5&&y)&&(y=v.classList.toggle("header--docked")),g=!1};window.addEventListener("scroll",function(){g||requestAnimationFrame(E),g=!0,w=h.scrollTop});m("[data-card]").forEach(function(n){m("[data-card-flip]",n).forEach(function(e){e.addEventListener("click",function(n){return function(){return n.classList.add("card--flip")}}(n))}),m("[data-card-unflip]",n).forEach(function(e){e.addEventListener("click",function(n){return function(){return n.classList.remove("card--flip")}}(n))})});t("/assets/data/map-config.json").then(function(n){var e=JSON.parse(n),t=e.key,o=e.options,r=e.marker,i=function(){return new google.maps.Map(document.getElementById("map"),o)},a=function(n){return new google.maps.Marker({position:r,map:n})};window.initMap=function(){a(i())},document.body.appendChild(function(n){var e=document.createElement("script");return e.setAttribute("async",""),e.setAttribute("defer",""),e.setAttribute("src","https://maps.googleapis.com/maps/api/js?key="+n+"&callback=initMap"),e}(t))}).catch(function(n){return console.log(n)})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9zY3JvbGwvaW5kZXguanMiLCJzY3JpcHRzL21vZHVsZXMvZmV0Y2guanMiLCJzY3JpcHRzL21vZHVsZXMvaWNvbi1zcHJpdGUuanMiLCJub2RlX21vZHVsZXMvZ2xvYmFsL3dpbmRvdy5qcyIsIm5vZGVfbW9kdWxlcy9yYWZsL2luZGV4LmpzIiwic2NyaXB0cy9tb2R1bGVzL2RvbS1oZWxwZXJzLmpzIiwic2NyaXB0cy9tb2R1bGVzL3Njcm9sbC10by5qcyIsInNjcmlwdHMvbW9kdWxlcy9kb2NrLWhlYWRlci5qcyIsInNjcmlwdHMvbW9kdWxlcy9jYXJkLWZsaXAuanMiLCJzY3JpcHRzL21vZHVsZXMvZ29vZ2xlLW1hcC5qcyJdLCJuYW1lcyI6WyJzY3JvbGwiLCJwcm9wIiwiZWxlbWVudCIsInRvIiwib3B0aW9ucyIsImNhbGxiYWNrIiwiYW5pbWF0ZSIsInRpbWVzdGFtcCIsImNhbmNlbGxlZCIsIkVycm9yIiwibm93IiwiRGF0ZSIsInRpbWUiLCJNYXRoIiwibWluIiwic3RhcnQiLCJkdXJhdGlvbiIsImVhc2VkIiwiZWFzZSIsImZyb20iLCJyYWYiLCJpbk91dFNpbmUiLCJuIiwiY29zIiwiUEkiLCJmZXRjaCIsInVyaSIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwiZXJyb3JIYW5kbGVyIiwib3BlbiIsImNiIiwib25sb2FkIiwidGhpcyIsInN0YXR1cyIsInJlc3BvbnNlIiwib25lcnJvciIsInNlbmQiLCJoYW5kbGVyIiwidGhlbiIsInNwcml0ZSIsImZpZ3VyZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiZGlzcGxheSIsImlubmVySFRNTCIsImJvZHkiLCJpbnNlcnRCZWZvcmUiLCJjaGlsZHJlbiIsImNhdGNoIiwiZXJyIiwid2FybiIsIndpbmRvd18xIiwid2luZG93IiwiZ2xvYmFsIiwic2VsZiIsInJlcXVlc3QiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJmbiIsImN1cnIiLCJtcyIsIm1heCIsInByZXYiLCJyZXEiLCJzZXRUaW1lb3V0IiwiY2FuY2VsIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSIsIm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY2xlYXJUaW1lb3V0IiwiRnVuY3Rpb24iLCJwcm90b3R5cGUiLCJiaW5kIiwibW9kdWxlIiwic2Nyb2xsXzEiLCJkb20iLCJxdWVyeSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInF1ZXJ5U2VsZWN0b3IiLCJzY29wZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzY3JvbGxIYW5kbGVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZG9jdW1lbnRFbGVtZW50IiwiaWQiLCJzY3JvbGxUb3AiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJyZXNvbHZlVGFyZ2V0IiwiZ2V0QXR0cmlidXRlIiwiZm9yRWFjaCIsIm5vZGUiLCJhZGRFdmVudExpc3RlbmVyIiwicGFnZSIsImhlYWRlciIsImJ1ZmZlciIsImRvY2tlZCIsInVwZGF0ZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImZsaXBOb2RlIiwiYWRkIiwiZ2V0RmxpcEhhbmRsZXIiLCJ1bmZsaXBOb2RlIiwicmVtb3ZlIiwiZ2V0VW5mbGlwSGFuZGxlciIsImNvbmZpZyIsIkpTT04iLCJwYXJzZSIsImtleSIsIl9KU09OJHBhcnNlIiwicG9zaXRpb24iLCJtYXJrZXIiLCJpbml0IiwiZ29vZ2xlIiwibWFwcyIsIk1hcCIsImdldEVsZW1lbnRCeUlkIiwibWFwIiwiTWFya2VyIiwiaW5pdE1hcCIsImFwcGVuZENoaWxkIiwidGFnIiwic2V0QXR0cmlidXRlIiwiZ2V0U2NyaXB0VGFnIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6InlCQUVBLFNBQVNBLEVBQVFDLEVBQU1DLEVBQVNDLEVBQUlDLEVBQVNDLFlBNkJsQ0Ms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RUFBT0ksVUFBVUMsT0FBTyxzQkFDNUMsR0FTWG5ELE9BQU80QyxpQkFBaUIsU0FORixXQUNmRyxHQUFRM0Msc0JBQXNCNkMsTUFDMUIsSUFDQUosRUFBS1IsWUNiaEJiLEVBQVksZUFDVGtCLFFBQVEsU0FBQUMsS0FDSyxtQkFBb0JBLEdBQzdCRCxRQUFRLFNBQUFVLEtBQ0VSLGlCQUFpQixRQVBYLFNBQUNELFVBQVMsa0JBQU1BLEVBQUtPLFVBQVVHLElBQUksZUFPZkMsQ0FBZVgsUUFHMUMscUJBQXNCQSxHQUMvQkQsUUFBUSxTQUFBYSxLQUNJWCxpQkFBaUIsUUFYWCxTQUFDRCxVQUFTLGtCQUFNQSxFQUFLTyxVQUFVTSxPQUFPLGVBV2xCQyxDQUFpQmQsUUNKOUR4RSxFQUFNLGdDQUNIYyxLQUFLLFNBQUF5RSxTQUNxQ0MsS0FBS0MsTUFBTUYsR0FBOUNHLEVBRFFDLEVBQ1JELElBQUsvRyxFQURHZ0gsRUFDSGhILFFBQWlCaUgsRUFEZEQsRUFDTUUsT0FFZEMsRUFDQyxrQkFBTSxJQUFJQyxPQUFPQyxLQUFLQyxJQUFJaEYsU0FBU2lGLGVBQWUsT0FBUXZILElBRDNEbUgsRUFFSSxTQUFDSyxVQUFRLElBQUlKLE9BQU9DLEtBQUtJLFFBQVNSLFNBQUFBLEVBQVVPLElBQUFBLFlBRy9DRSxRQUFVLGFBQ0hQLGVBR0x4RSxLQUFLZ0YsWUFyQkcsU0FBQ1osT0FDaEJhLEVBQU10RixTQUFTQyxjQUFjLG1CQUM3QnNGLGFBQWEsUUFBUyxNQUN0QkEsYUFBYSxRQUFTLE1BQ3RCQSxhQUFhLE1BQWpCLCtDQUF1RWQsRUFBdkUscUJBQ09hLEVBZ0JxQkUsQ0FBYWYsTUFFeENqRSxNQUFNLFNBQUFDLFVBQU9nRixRQUFRQyxJQUFJakYiLCJmaWxlIjoic2l0ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciByYWYgPSByZXF1aXJlKCdyYWZsJylcblxuZnVuY3Rpb24gc2Nyb2xsIChwcm9wLCBlbGVtZW50LCB0bywgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgdmFyIHN0YXJ0ID0gK25ldyBEYXRlXG4gIHZhciBmcm9tID0gZWxlbWVudFtwcm9wXVxuICB2YXIgY2FuY2VsbGVkID0gZmFsc2VcblxuICB2YXIgZWFzZSA9IGluT3V0U2luZVxuICB2YXIgZHVyYXRpb24gPSAzNTBcblxuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdGlvbnNcbiAgfVxuICBlbHNlIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICAgIGVhc2UgPSBvcHRpb25zLmVhc2UgfHwgZWFzZVxuICAgIGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbiB8fCBkdXJhdGlvblxuICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge31cbiAgfVxuXG4gIGlmIChmcm9tID09PSB0bykge1xuICAgIHJldHVybiBjYWxsYmFjayhcbiAgICAgIG5ldyBFcnJvcignRWxlbWVudCBhbHJlYWR5IGF0IHRhcmdldCBzY3JvbGwgcG9zaXRpb24nKSxcbiAgICAgIGVsZW1lbnRbcHJvcF1cbiAgICApXG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWwgKCkge1xuICAgIGNhbmNlbGxlZCA9IHRydWVcbiAgfVxuXG4gIGZ1bmN0aW9uIGFuaW1hdGUgKHRpbWVzdGFtcCkge1xuICAgIGlmIChjYW5jZWxsZWQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhcbiAgICAgICAgbmV3IEVycm9yKCdTY3JvbGwgY2FuY2VsbGVkJyksXG4gICAgICAgIGVsZW1lbnRbcHJvcF1cbiAgICAgIClcbiAgICB9XG5cbiAgICB2YXIgbm93ID0gK25ldyBEYXRlXG4gICAgdmFyIHRpbWUgPSBNYXRoLm1pbigxLCAoKG5vdyAtIHN0YXJ0KSAvIGR1cmF0aW9uKSlcbiAgICB2YXIgZWFzZWQgPSBlYXNlKHRpbWUpXG5cbiAgICBlbGVtZW50W3Byb3BdID0gKGVhc2VkICogKHRvIC0gZnJvbSkpICsgZnJvbVxuXG4gICAgdGltZSA8IDEgPyByYWYoYW5pbWF0ZSkgOiByYWYoZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgZWxlbWVudFtwcm9wXSlcbiAgICB9KVxuICB9XG5cbiAgcmFmKGFuaW1hdGUpXG5cbiAgcmV0dXJuIGNhbmNlbFxufVxuXG5mdW5jdGlvbiBpbk91dFNpbmUgKG4pIHtcbiAgcmV0dXJuIC41ICogKDEgLSBNYXRoLmNvcyhNYXRoLlBJICogbikpXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICB0b3A6IGZ1bmN0aW9uIChlbGVtZW50LCB0bywgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gc2Nyb2xsKCdzY3JvbGxUb3AnLCBlbGVtZW50LCB0bywgb3B0aW9ucywgY2FsbGJhY2spXG4gIH0sXG4gIGxlZnQ6IGZ1bmN0aW9uIChlbGVtZW50LCB0bywgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gc2Nyb2xsKCdzY3JvbGxMZWZ0JywgZWxlbWVudCwgdG8sIG9wdGlvbnMsIGNhbGxiYWNrKVxuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCAodXJpKSA9PiB7XG4gIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG4gIGxldCBlcnJvckhhbmRsZXIgPSAoKSA9PiB7fVxuXG4gIHhoci5vcGVuKCdHRVQnLCB1cmksIHRydWUpXG5cbiAgcmV0dXJuIHtcbiAgICB0aGVuOiAoY2IpID0+IHtcbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IHZhbGlkUmVzcG9uc2UgPSB0aGlzLnN0YXR1cyA8IDIwMCB8fCB0aGlzLnN0YXR1cyA+PSA0MDBcbiAgICAgICAgaWYgKHZhbGlkUmVzcG9uc2UgJiYgZXJyb3JIYW5kbGVyKSBlcnJvckhhbmRsZXIodGhpcylcbiAgICAgICAgY2IodGhpcy5yZXNwb25zZSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9uZXJyb3IgPSBlcnJvckhhbmRsZXJcbiAgICAgIHhoci5zZW5kKClcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2F0Y2g6IChoYW5kbGVyKSA9PiB7IGVycm9ySGFuZGxlciA9IGhhbmRsZXIgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IGZldGNoIGZyb20gJy4vZmV0Y2gnXG5cbmZldGNoKCcvYXNzZXRzL2ljb25zL3Nwcml0ZS5zdmcnKVxuICAudGhlbihzcHJpdGUgPT4ge1xuICAgIGxldCBmaWd1cmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmaWd1cmUnKVxuICAgIGZpZ3VyZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgZmlndXJlLmlubmVySFRNTCA9IHNwcml0ZVxuICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKGZpZ3VyZSwgZG9jdW1lbnQuYm9keS5jaGlsZHJlblswXSlcbiAgfSlcbiAgLmNhdGNoKGVyciA9PiB7XG4gICAgY29uc29sZS53YXJuKCdJY29uIHNwcml0ZXNoZWV0IGNvdWxkIG5vdCBiZSBsb2FkZWRcXG4nLCBlcnIpXG4gIH0pXG4iLCJ2YXIgd2luO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHdpbiA9IHdpbmRvdztcbn0gZWxzZSBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHdpbiA9IGdsb2JhbDtcbn0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpe1xuICAgIHdpbiA9IHNlbGY7XG59IGVsc2Uge1xuICAgIHdpbiA9IHt9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHdpbjtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCdnbG9iYWwnKVxuXG4vKipcbiAqIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKWBcbiAqL1xuXG52YXIgcmVxdWVzdCA9IGdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgfHwgZ2xvYmFsLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxuICB8fCBnbG9iYWwubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gIHx8IGZhbGxiYWNrXG5cbnZhciBwcmV2ID0gK25ldyBEYXRlXG5mdW5jdGlvbiBmYWxsYmFjayAoZm4pIHtcbiAgdmFyIGN1cnIgPSArbmV3IERhdGVcbiAgdmFyIG1zID0gTWF0aC5tYXgoMCwgMTYgLSAoY3VyciAtIHByZXYpKVxuICB2YXIgcmVxID0gc2V0VGltZW91dChmbiwgbXMpXG4gIHJldHVybiBwcmV2ID0gY3VyciwgcmVxXG59XG5cbi8qKlxuICogYGNhbmNlbEFuaW1hdGlvbkZyYW1lKClgXG4gKi9cblxudmFyIGNhbmNlbCA9IGdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZVxuICB8fCBnbG9iYWwud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWVcbiAgfHwgZ2xvYmFsLm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lXG4gIHx8IGNsZWFyVGltZW91dFxuXG5pZiAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQpIHtcbiAgcmVxdWVzdCA9IHJlcXVlc3QuYmluZChnbG9iYWwpXG4gIGNhbmNlbCA9IGNhbmNlbC5iaW5kKGdsb2JhbClcbn1cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWVzdFxuZXhwb3J0cy5jYW5jZWwgPSBjYW5jZWxcbiIsImNvbnN0IGZpbmQgPSAocXVlcnksIHNjb3BlID0gZG9jdW1lbnQpID0+XG4gIHNjb3BlLnF1ZXJ5U2VsZWN0b3IocXVlcnkpXG5cbmNvbnN0IGZpbmRBbGwgPSAocXVlcnksIHNjb3BlID0gZG9jdW1lbnQpID0+XG4gIFsuLi5zY29wZS5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJ5KV1cblxuXG5leHBvcnQgZGVmYXVsdCB7IGZpbmQsIGZpbmRBbGwgfVxuIiwiaW1wb3J0IHNjcm9sbCBmcm9tICdzY3JvbGwnXG5pbXBvcnQgZG9tIGZyb20gJy4vZG9tLWhlbHBlcnMnXG5cbmNvbnN0IHJlc29sdmVUYXJnZXQgPSAoaWQpID0+XG4gIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgKyBkb20uZmluZChpZCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wXG5cbmNvbnN0IHNjcm9sbEhhbmRsZXIgPSBmdW5jdGlvbihlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKVxuICBzY3JvbGwudG9wKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgcmVzb2x2ZVRhcmdldCh0aGlzLmdldEF0dHJpYnV0ZSgnaHJlZicpKSwgeyBkdXJhdGlvbjogNTAwIH0pXG59XG5cbmRvbS5maW5kQWxsKCdbZGF0YS1zY3JvbGwtdG9dJylcbiAgLmZvckVhY2gobm9kZSA9PiB7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNjcm9sbEhhbmRsZXIpXG4gIH0pXG4iLCJpbXBvcnQgZG9tIGZyb20gJy4vZG9tLWhlbHBlcnMnXG5cbmNvbnN0IHBhZ2UgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcbmNvbnN0IGhlYWRlciA9IGRvbS5maW5kKCdbZGF0YS1oZWFkZXJdJylcbmxldCBzY3JvbGwsIGJ1ZmZlciwgZG9ja2VkXG5cblxuY29uc3QgdXBkYXRlID0gKCkgPT4ge1xuICBsZXQgZG9jayA9IHNjcm9sbCA+IDUgJiYgIWRvY2tlZFxuICBsZXQgdW5kb2NrID0gc2Nyb2xsIDw9IDUgJiYgZG9ja2VkXG5cbiAgaWYgKGRvY2sgfHwgdW5kb2NrKSBkb2NrZWQgPSBoZWFkZXIuY2xhc3NMaXN0LnRvZ2dsZSgnaGVhZGVyLS1kb2NrZWQnKVxuICBidWZmZXIgPSBmYWxzZVxufVxuXG5jb25zdCByZXF1ZXN0VXBkYXRlID0gKCkgPT4ge1xuICBpZiAoIWJ1ZmZlcikgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZSlcbiAgYnVmZmVyID0gdHJ1ZVxuICBzY3JvbGwgPSBwYWdlLnNjcm9sbFRvcFxufVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgcmVxdWVzdFVwZGF0ZSlcbiIsImltcG9ydCBkb20gZnJvbSAnLi9kb20taGVscGVycydcblxuY29uc3QgZ2V0RmxpcEhhbmRsZXIgPSAobm9kZSkgPT4gKCkgPT4gbm9kZS5jbGFzc0xpc3QuYWRkKCdjYXJkLS1mbGlwJylcbmNvbnN0IGdldFVuZmxpcEhhbmRsZXIgPSAobm9kZSkgPT4gKCkgPT4gbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdjYXJkLS1mbGlwJylcblxuZG9tLmZpbmRBbGwoJ1tkYXRhLWNhcmRdJylcbiAgLmZvckVhY2gobm9kZSA9PiB7XG4gICAgZG9tLmZpbmRBbGwoJ1tkYXRhLWNhcmQtZmxpcF0nLCBub2RlKVxuICAgICAgLmZvckVhY2goZmxpcE5vZGUgPT4ge1xuICAgICAgICBmbGlwTm9kZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGdldEZsaXBIYW5kbGVyKG5vZGUpKVxuICAgICAgfSlcblxuICAgIGRvbS5maW5kQWxsKCdbZGF0YS1jYXJkLXVuZmxpcF0nLCBub2RlKVxuICAgICAgLmZvckVhY2godW5mbGlwTm9kZSA9PiB7XG4gICAgICAgIHVuZmxpcE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBnZXRVbmZsaXBIYW5kbGVyKG5vZGUpKVxuICAgICAgfSlcbiAgfSlcbiIsImltcG9ydCBmZXRjaCBmcm9tICcuL2ZldGNoJ1xuXG5jb25zdCBnZXRTY3JpcHRUYWcgPSAoa2V5KSA9PiB7XG4gIGxldCB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKVxuICB0YWcuc2V0QXR0cmlidXRlKCdhc3luYycsICcnKVxuICB0YWcuc2V0QXR0cmlidXRlKCdkZWZlcicsICcnKVxuICB0YWcuc2V0QXR0cmlidXRlKCdzcmMnLCBgaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2pzP2tleT0ke2tleX0mY2FsbGJhY2s9aW5pdE1hcGApXG4gIHJldHVybiB0YWdcbn1cblxuZmV0Y2goJy9hc3NldHMvZGF0YS9tYXAtY29uZmlnLmpzb24nKVxuICAudGhlbihjb25maWcgPT4ge1xuICAgIGxldCB7IGtleSwgb3B0aW9ucywgbWFya2VyOiBwb3NpdGlvbiB9ID0gSlNPTi5wYXJzZShjb25maWcpXG5cbiAgICBjb25zdCBpbml0ID0ge1xuICAgICAgbWFwOiAoKSA9PiBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSwgb3B0aW9ucyksXG4gICAgICBtYXJrZXI6IChtYXApID0+IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoeyBwb3NpdGlvbiwgbWFwIH0pXG4gICAgfVxuXG4gICAgd2luZG93LmluaXRNYXAgPSAoKSA9PiB7XG4gICAgICBpbml0Lm1hcmtlcihpbml0Lm1hcCgpKVxuICAgIH1cblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZ2V0U2NyaXB0VGFnKGtleSkpXG4gIH0pXG4gIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSlcbiJdfQ==
