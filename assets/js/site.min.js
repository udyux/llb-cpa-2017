!function(){"use strict";function n(n,e,o,r,a){function c(t){if(s)return a(new Error("Scroll cancelled"),e[n]);var r=+new Date,m=Math.min(1,(r-u)/f),p=l(m);e[n]=p*(o-d)+d,i(m<1?c:function(){a(null,e[n])})}var u=+new Date,d=e[n],s=!1,l=t,f=350;return"function"==typeof r?a=r:(l=(r=r||{}).ease||l,f=r.duration||f,a=a||function(){}),d===o?a(new Error("Element already at target scroll position"),e[n]):(i(c),function(){s=!0})}function t(n){return.5*(1-Math.cos(Math.PI*n))}var e=function(n){var t=new XMLHttpRequest,e=function(){};return t.open("GET",n,!0),{then:function(n){return t.onload=function(){(this.status<200||this.status>=400)&&e&&e(this),n(this.response)},t.onerror=e,t.send(),{catch:function(n){e=n}}}}};e("/assets/icons/sprite.svg").then(function(n){var t=document.createElement("figure");t.style.display="none",t.innerHTML=n,document.body.insertBefore(t,document.body.children[0])}).catch(function(n){console.warn("Icon spritesheet could not be loaded\n",n)});var o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r="undefined"!=typeof window?window:void 0!==o?o:"undefined"!=typeof self?self:{},i=function(n,t){return t={exports:{}},n(t,t.exports),t.exports}(function(n,t){var e=r.requestAnimationFrame||r.webkitRequestAnimationFrame||r.mozRequestAnimationFrame||function(n){var t=+new Date,e=Math.max(0,16-(t-o)),r=setTimeout(n,e);return o=t,r},o=+new Date,i=r.cancelAnimationFrame||r.webkitCancelAnimationFrame||r.mozCancelAnimationFrame||clearTimeout;Function.prototype.bind&&(e=e.bind(r),i=i.bind(r)),(n.exports=e).cancel=i}),a=function(t,e,o,r){return n("scrollTop",t,e,o,r)},c=function(n){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(n)},u=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return[].concat(function(n){if(Array.isArray(n)){for(var t=0,e=Array(n.length);t<n.length;t++)e[t]=n[t];return e}return Array.from(n)}(t.querySelectorAll(n)))},d=function(n){return document.documentElement.scrollTop+c(n).getBoundingClientRect().top-c("[data-header]").clientHeight},s=function(n){n.preventDefault(),a(document.documentElement,d(this.getAttribute("href")),{duration:500})};u("[data-scroll-to]").forEach(function(n){n.addEventListener("click",s)});var l=document.documentElement,f=c("[data-header]"),m=void 0,p=void 0,h=void 0,v=function(){(m>5&&!h||m<=5&&h)&&(h=f.classList.toggle("header--docked")),p=!1};window.addEventListener("scroll",function(){p||requestAnimationFrame(v),p=!0,m=l.scrollTop});u("[data-card]").forEach(function(n){u("[data-card-flip]",n).forEach(function(t){t.addEventListener("click",function(n){return function(){return n.classList.add("card--flip")}}(n))}),u("[data-card-unflip]",n).forEach(function(t){t.addEventListener("click",function(n){return function(){return n.classList.remove("card--flip")}}(n))})});e("/assets/data/map-config.json").then(function(n){var t=JSON.parse(n),e=t.key,o=t.options,r=t.marker,i=function(){return new google.maps.Map(document.getElementById("map"),o)},a=function(n){return new google.maps.Marker({position:r,map:n})};window.initMap=function(){a(i())},document.body.appendChild(function(n){var t=document.createElement("script");return t.setAttribute("async",""),t.setAttribute("defer",""),t.setAttribute("src","https://maps.googleapis.com/maps/api/js?key="+n+"&callback=initMap"),t}(e))}).catch(function(n){return console.log(n)})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9zY3JvbGwvaW5kZXguanMiLCJzY3JpcHRzL21vZHVsZXMvZmV0Y2guanMiLCJzY3JpcHRzL21vZHVsZXMvaWNvbi1zcHJpdGUuanMiLCJub2RlX21vZHVsZXMvZ2xvYmFsL3dpbmRvdy5qcyIsIm5vZGVfbW9kdWxlcy9yYWZsL2luZGV4LmpzIiwic2NyaXB0cy9tb2R1bGVzL2RvbS1oZWxwZXJzLmpzIiwic2NyaXB0cy9tb2R1bGVzL3Njcm9sbC10by5qcyIsInNjcmlwdHMvbW9kdWxlcy9kb2NrLWhlYWRlci5qcyIsInNjcmlwdHMvbW9kdWxlcy9jYXJkLWZsaXAuanMiLCJzY3JpcHRzL21vZHVsZXMvZ29vZ2xlLW1hcC5qcyJdLCJuYW1lcyI6WyJzY3JvbGwiLCJwcm9wIiwiZWxlbWVudCIsInRvIiwib3B0aW9ucyIsImNhbGxiYWNrIiwiYW5pbWF0ZSIsInRpbWVzdGFtcCIsImNhbmNlbGxlZCIsIkVycm9yIiwibm93IiwiRGF0ZSIsInRpbWUiLCJNYXRoIiwibWluIiwic3RhcnQiLCJkdXJhdGlvbiIsImVhc2VkIiwiZWFzZSIsImZyb20iLCJyYWYiLCJpbk91dFNpbmUiLCJuIiwiY29zIiwiUEkiLCJmZXRjaCIsInVyaSIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwiZXJyb3JIYW5kbGVyIiwib3BlbiIsImNiIiwib25sb2FkIiwidGhpcyIsInN0YXR1cyIsInJlc3BvbnNlIiwib25lcnJvciIsInNlbmQiLCJoYW5kbGVyIiwidGhlbiIsInNwcml0ZSIsImZpZ3VyZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiZGlzcGxheSIsImlubmVySFRNTCIsImJvZHkiLCJpbnNlcnRCZWZvcmUiLCJjaGlsZHJlbiIsImNhdGNoIiwiZXJyIiwid2FybiIsIndpbmRvd18xIiwid2luZG93IiwiZ2xvYmFsIiwic2VsZiIsInJlcXVlc3QiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJmbiIsImN1cnIiLCJtcyIsIm1heCIsInByZXYiLCJyZXEiLCJzZXRUaW1lb3V0IiwiY2FuY2VsIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSIsIm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY2xlYXJUaW1lb3V0IiwiRnVuY3Rpb24iLCJwcm90b3R5cGUiLCJiaW5kIiwibW9kdWxlIiwic2Nyb2xsXzEiLCJkb20iLCJxdWVyeSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInF1ZXJ5U2VsZWN0b3IiLCJzY29wZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZXNvbHZlVGFyZ2V0IiwiaWQiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JvbGxUb3AiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJjbGllbnRIZWlnaHQiLCJzY3JvbGxIYW5kbGVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZ2V0QXR0cmlidXRlIiwiZm9yRWFjaCIsIm5vZGUiLCJhZGRFdmVudExpc3RlbmVyIiwicGFnZSIsImhlYWRlciIsImJ1ZmZlciIsImRvY2tlZCIsInVwZGF0ZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImZsaXBOb2RlIiwiYWRkIiwiZ2V0RmxpcEhhbmRsZXIiLCJ1bmZsaXBOb2RlIiwicmVtb3ZlIiwiZ2V0VW5mbGlwSGFuZGxlciIsImNvbmZpZyIsIkpTT04iLCJwYXJzZSIsImtleSIsIl9KU09OJHBhcnNlIiwicG9zaXRpb24iLCJtYXJrZXIiLCJpbml0IiwiZ29vZ2xlIiwibWFwcyIsIk1hcCIsImdldEVsZW1lbnRCeUlkIiwibWFwIiwiTWFya2VyIiwiaW5pdE1hcCIsImFwcGVuZENoaWxkIiwidGFnIiwic2V0QXR0cmlidXRlIiwiZ2V0U2NyaXB0VGFnIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6InlCQUVBLFNBQVNBLEVBQVFDLEVBQU1DLEVBQVNDLEVBQUlD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QUFTLElBQU11RyxHQUNidkcsR0FBVSxHQUFLdUcsS0FFUkEsRUFBU0YsRUFBT0ksVUFBVUMsT0FBTyxzQkFDNUMsR0FTWHBELE9BQU82QyxpQkFBaUIsU0FORixXQUNmRyxHQUFRNUMsc0JBQXNCOEMsTUFDMUIsSUFDQUosRUFBS1gsWUNiaEJYLEVBQVksZUFDVG1CLFFBQVEsU0FBQUMsS0FDSyxtQkFBb0JBLEdBQzdCRCxRQUFRLFNBQUFVLEtBQ0VSLGlCQUFpQixRQVBYLFNBQUNELFVBQVMsa0JBQU1BLEVBQUtPLFVBQVVHLElBQUksZUFPZkMsQ0FBZVgsUUFHMUMscUJBQXNCQSxHQUMvQkQsUUFBUSxTQUFBYSxLQUNJWCxpQkFBaUIsUUFYWCxTQUFDRCxVQUFTLGtCQUFNQSxFQUFLTyxVQUFVTSxPQUFPLGVBV2xCQyxDQUFpQmQsUUNKOUR6RSxFQUFNLGdDQUNIYyxLQUFLLFNBQUEwRSxTQUNxQ0MsS0FBS0MsTUFBTUYsR0FBOUNHLEVBRFFDLEVBQ1JELElBQUtoSCxFQURHaUgsRUFDSGpILFFBQWlCa0gsRUFEZEQsRUFDTUUsT0FFZEMsRUFDQyxrQkFBTSxJQUFJQyxPQUFPQyxLQUFLQyxJQUFJakYsU0FBU2tGLGVBQWUsT0FBUXhILElBRDNEb0gsRUFFSSxTQUFDSyxVQUFRLElBQUlKLE9BQU9DLEtBQUtJLFFBQVNSLFNBQUFBLEVBQVVPLElBQUFBLFlBRy9DRSxRQUFVLGFBQ0hQLGVBR0x6RSxLQUFLaUYsWUFyQkcsU0FBQ1osT0FDaEJhLEVBQU12RixTQUFTQyxjQUFjLG1CQUM3QnVGLGFBQWEsUUFBUyxNQUN0QkEsYUFBYSxRQUFTLE1BQ3RCQSxhQUFhLE1BQWpCLCtDQUF1RWQsRUFBdkUscUJBQ09hLEVBZ0JxQkUsQ0FBYWYsTUFFeENsRSxNQUFNLFNBQUFDLFVBQU9pRixRQUFRQyxJQUFJbEYiLCJmaWxlIjoic2l0ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciByYWYgPSByZXF1aXJlKCdyYWZsJylcblxuZnVuY3Rpb24gc2Nyb2xsIChwcm9wLCBlbGVtZW50LCB0bywgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgdmFyIHN0YXJ0ID0gK25ldyBEYXRlXG4gIHZhciBmcm9tID0gZWxlbWVudFtwcm9wXVxuICB2YXIgY2FuY2VsbGVkID0gZmFsc2VcblxuICB2YXIgZWFzZSA9IGluT3V0U2luZVxuICB2YXIgZHVyYXRpb24gPSAzNTBcblxuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdGlvbnNcbiAgfVxuICBlbHNlIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICAgIGVhc2UgPSBvcHRpb25zLmVhc2UgfHwgZWFzZVxuICAgIGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbiB8fCBkdXJhdGlvblxuICAgIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge31cbiAgfVxuXG4gIGlmIChmcm9tID09PSB0bykge1xuICAgIHJldHVybiBjYWxsYmFjayhcbiAgICAgIG5ldyBFcnJvcignRWxlbWVudCBhbHJlYWR5IGF0IHRhcmdldCBzY3JvbGwgcG9zaXRpb24nKSxcbiAgICAgIGVsZW1lbnRbcHJvcF1cbiAgICApXG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWwgKCkge1xuICAgIGNhbmNlbGxlZCA9IHRydWVcbiAgfVxuXG4gIGZ1bmN0aW9uIGFuaW1hdGUgKHRpbWVzdGFtcCkge1xuICAgIGlmIChjYW5jZWxsZWQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhcbiAgICAgICAgbmV3IEVycm9yKCdTY3JvbGwgY2FuY2VsbGVkJyksXG4gICAgICAgIGVsZW1lbnRbcHJvcF1cbiAgICAgIClcbiAgICB9XG5cbiAgICB2YXIgbm93ID0gK25ldyBEYXRlXG4gICAgdmFyIHRpbWUgPSBNYXRoLm1pbigxLCAoKG5vdyAtIHN0YXJ0KSAvIGR1cmF0aW9uKSlcbiAgICB2YXIgZWFzZWQgPSBlYXNlKHRpbWUpXG5cbiAgICBlbGVtZW50W3Byb3BdID0gKGVhc2VkICogKHRvIC0gZnJvbSkpICsgZnJvbVxuXG4gICAgdGltZSA8IDEgPyByYWYoYW5pbWF0ZSkgOiByYWYoZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgZWxlbWVudFtwcm9wXSlcbiAgICB9KVxuICB9XG5cbiAgcmFmKGFuaW1hdGUpXG5cbiAgcmV0dXJuIGNhbmNlbFxufVxuXG5mdW5jdGlvbiBpbk91dFNpbmUgKG4pIHtcbiAgcmV0dXJuIC41ICogKDEgLSBNYXRoLmNvcyhNYXRoLlBJICogbikpXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICB0b3A6IGZ1bmN0aW9uIChlbGVtZW50LCB0bywgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gc2Nyb2xsKCdzY3JvbGxUb3AnLCBlbGVtZW50LCB0bywgb3B0aW9ucywgY2FsbGJhY2spXG4gIH0sXG4gIGxlZnQ6IGZ1bmN0aW9uIChlbGVtZW50LCB0bywgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gc2Nyb2xsKCdzY3JvbGxMZWZ0JywgZWxlbWVudCwgdG8sIG9wdGlvbnMsIGNhbGxiYWNrKVxuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCAodXJpKSA9PiB7XG4gIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG4gIGxldCBlcnJvckhhbmRsZXIgPSAoKSA9PiB7fVxuXG4gIHhoci5vcGVuKCdHRVQnLCB1cmksIHRydWUpXG5cbiAgcmV0dXJuIHtcbiAgICB0aGVuOiAoY2IpID0+IHtcbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IHZhbGlkUmVzcG9uc2UgPSB0aGlzLnN0YXR1cyA8IDIwMCB8fCB0aGlzLnN0YXR1cyA+PSA0MDBcbiAgICAgICAgaWYgKHZhbGlkUmVzcG9uc2UgJiYgZXJyb3JIYW5kbGVyKSBlcnJvckhhbmRsZXIodGhpcylcbiAgICAgICAgY2IodGhpcy5yZXNwb25zZSlcbiAgICAgIH1cblxuICAgICAgeGhyLm9uZXJyb3IgPSBlcnJvckhhbmRsZXJcbiAgICAgIHhoci5zZW5kKClcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2F0Y2g6IChoYW5kbGVyKSA9PiB7IGVycm9ySGFuZGxlciA9IGhhbmRsZXIgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IGZldGNoIGZyb20gJy4vZmV0Y2gnXG5cbmZldGNoKCcvYXNzZXRzL2ljb25zL3Nwcml0ZS5zdmcnKVxuICAudGhlbihzcHJpdGUgPT4ge1xuICAgIGxldCBmaWd1cmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmaWd1cmUnKVxuICAgIGZpZ3VyZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgZmlndXJlLmlubmVySFRNTCA9IHNwcml0ZVxuICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKGZpZ3VyZSwgZG9jdW1lbnQuYm9keS5jaGlsZHJlblswXSlcbiAgfSlcbiAgLmNhdGNoKGVyciA9PiB7XG4gICAgY29uc29sZS53YXJuKCdJY29uIHNwcml0ZXNoZWV0IGNvdWxkIG5vdCBiZSBsb2FkZWRcXG4nLCBlcnIpXG4gIH0pXG4iLCJ2YXIgd2luO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHdpbiA9IHdpbmRvdztcbn0gZWxzZSBpZiAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHdpbiA9IGdsb2JhbDtcbn0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpe1xuICAgIHdpbiA9IHNlbGY7XG59IGVsc2Uge1xuICAgIHdpbiA9IHt9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHdpbjtcbiIsInZhciBnbG9iYWwgPSByZXF1aXJlKCdnbG9iYWwnKVxuXG4vKipcbiAqIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKWBcbiAqL1xuXG52YXIgcmVxdWVzdCA9IGdsb2JhbC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgfHwgZ2xvYmFsLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxuICB8fCBnbG9iYWwubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gIHx8IGZhbGxiYWNrXG5cbnZhciBwcmV2ID0gK25ldyBEYXRlXG5mdW5jdGlvbiBmYWxsYmFjayAoZm4pIHtcbiAgdmFyIGN1cnIgPSArbmV3IERhdGVcbiAgdmFyIG1zID0gTWF0aC5tYXgoMCwgMTYgLSAoY3VyciAtIHByZXYpKVxuICB2YXIgcmVxID0gc2V0VGltZW91dChmbiwgbXMpXG4gIHJldHVybiBwcmV2ID0gY3VyciwgcmVxXG59XG5cbi8qKlxuICogYGNhbmNlbEFuaW1hdGlvbkZyYW1lKClgXG4gKi9cblxudmFyIGNhbmNlbCA9IGdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZVxuICB8fCBnbG9iYWwud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWVcbiAgfHwgZ2xvYmFsLm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lXG4gIHx8IGNsZWFyVGltZW91dFxuXG5pZiAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQpIHtcbiAgcmVxdWVzdCA9IHJlcXVlc3QuYmluZChnbG9iYWwpXG4gIGNhbmNlbCA9IGNhbmNlbC5iaW5kKGdsb2JhbClcbn1cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWVzdFxuZXhwb3J0cy5jYW5jZWwgPSBjYW5jZWxcbiIsImNvbnN0IGZpbmQgPSAocXVlcnksIHNjb3BlID0gZG9jdW1lbnQpID0+XG4gIHNjb3BlLnF1ZXJ5U2VsZWN0b3IocXVlcnkpXG5cbmNvbnN0IGZpbmRBbGwgPSAocXVlcnksIHNjb3BlID0gZG9jdW1lbnQpID0+XG4gIFsuLi5zY29wZS5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJ5KV1cblxuXG5leHBvcnQgZGVmYXVsdCB7IGZpbmQsIGZpbmRBbGwgfVxuIiwiaW1wb3J0IHNjcm9sbCBmcm9tICdzY3JvbGwnXG5pbXBvcnQgZG9tIGZyb20gJy4vZG9tLWhlbHBlcnMnXG5cbmNvbnN0IG5hdkhlaWdodCA9ICgpID0+XG4gIGRvbS5maW5kKCdbZGF0YS1oZWFkZXJdJykuY2xpZW50SGVpZ2h0XG5cbmNvbnN0IHJlc29sdmVUYXJnZXQgPSAoaWQpID0+XG4gIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgKyBkb20uZmluZChpZCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC0gbmF2SGVpZ2h0KClcblxuY29uc3Qgc2Nyb2xsSGFuZGxlciA9IGZ1bmN0aW9uKGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIHNjcm9sbC50b3AoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCByZXNvbHZlVGFyZ2V0KHRoaXMuZ2V0QXR0cmlidXRlKCdocmVmJykpLCB7IGR1cmF0aW9uOiA1MDAgfSlcbn1cblxuZG9tLmZpbmRBbGwoJ1tkYXRhLXNjcm9sbC10b10nKVxuICAuZm9yRWFjaChub2RlID0+IHtcbiAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2Nyb2xsSGFuZGxlcilcbiAgfSlcbiIsImltcG9ydCBkb20gZnJvbSAnLi9kb20taGVscGVycydcblxuY29uc3QgcGFnZSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxuY29uc3QgaGVhZGVyID0gZG9tLmZpbmQoJ1tkYXRhLWhlYWRlcl0nKVxubGV0IHNjcm9sbCwgYnVmZmVyLCBkb2NrZWRcblxuXG5jb25zdCB1cGRhdGUgPSAoKSA9PiB7XG4gIGxldCBkb2NrID0gc2Nyb2xsID4gNSAmJiAhZG9ja2VkXG4gIGxldCB1bmRvY2sgPSBzY3JvbGwgPD0gNSAmJiBkb2NrZWRcblxuICBpZiAoZG9jayB8fCB1bmRvY2spIGRvY2tlZCA9IGhlYWRlci5jbGFzc0xpc3QudG9nZ2xlKCdoZWFkZXItLWRvY2tlZCcpXG4gIGJ1ZmZlciA9IGZhbHNlXG59XG5cbmNvbnN0IHJlcXVlc3RVcGRhdGUgPSAoKSA9PiB7XG4gIGlmICghYnVmZmVyKSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlKVxuICBidWZmZXIgPSB0cnVlXG4gIHNjcm9sbCA9IHBhZ2Uuc2Nyb2xsVG9wXG59XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCByZXF1ZXN0VXBkYXRlKVxuIiwiaW1wb3J0IGRvbSBmcm9tICcuL2RvbS1oZWxwZXJzJ1xuXG5jb25zdCBnZXRGbGlwSGFuZGxlciA9IChub2RlKSA9PiAoKSA9PiBub2RlLmNsYXNzTGlzdC5hZGQoJ2NhcmQtLWZsaXAnKVxuY29uc3QgZ2V0VW5mbGlwSGFuZGxlciA9IChub2RlKSA9PiAoKSA9PiBub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2NhcmQtLWZsaXAnKVxuXG5kb20uZmluZEFsbCgnW2RhdGEtY2FyZF0nKVxuICAuZm9yRWFjaChub2RlID0+IHtcbiAgICBkb20uZmluZEFsbCgnW2RhdGEtY2FyZC1mbGlwXScsIG5vZGUpXG4gICAgICAuZm9yRWFjaChmbGlwTm9kZSA9PiB7XG4gICAgICAgIGZsaXBOb2RlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZ2V0RmxpcEhhbmRsZXIobm9kZSkpXG4gICAgICB9KVxuXG4gICAgZG9tLmZpbmRBbGwoJ1tkYXRhLWNhcmQtdW5mbGlwXScsIG5vZGUpXG4gICAgICAuZm9yRWFjaCh1bmZsaXBOb2RlID0+IHtcbiAgICAgICAgdW5mbGlwTm9kZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGdldFVuZmxpcEhhbmRsZXIobm9kZSkpXG4gICAgICB9KVxuICB9KVxuIiwiaW1wb3J0IGZldGNoIGZyb20gJy4vZmV0Y2gnXG5cbmNvbnN0IGdldFNjcmlwdFRhZyA9IChrZXkpID0+IHtcbiAgbGV0IHRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpXG4gIHRhZy5zZXRBdHRyaWJ1dGUoJ2FzeW5jJywgJycpXG4gIHRhZy5zZXRBdHRyaWJ1dGUoJ2RlZmVyJywgJycpXG4gIHRhZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGBodHRwczovL21hcHMuZ29vZ2xlYXBpcy5jb20vbWFwcy9hcGkvanM/a2V5PSR7a2V5fSZjYWxsYmFjaz1pbml0TWFwYClcbiAgcmV0dXJuIHRhZ1xufVxuXG5mZXRjaCgnL2Fzc2V0cy9kYXRhL21hcC1jb25maWcuanNvbicpXG4gIC50aGVuKGNvbmZpZyA9PiB7XG4gICAgbGV0IHsga2V5LCBvcHRpb25zLCBtYXJrZXI6IHBvc2l0aW9uIH0gPSBKU09OLnBhcnNlKGNvbmZpZylcblxuICAgIGNvbnN0IGluaXQgPSB7XG4gICAgICBtYXA6ICgpID0+IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpLCBvcHRpb25zKSxcbiAgICAgIG1hcmtlcjogKG1hcCkgPT4gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7IHBvc2l0aW9uLCBtYXAgfSlcbiAgICB9XG5cbiAgICB3aW5kb3cuaW5pdE1hcCA9ICgpID0+IHtcbiAgICAgIGluaXQubWFya2VyKGluaXQubWFwKCkpXG4gICAgfVxuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChnZXRTY3JpcHRUYWcoa2V5KSlcbiAgfSlcbiAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxuIl19
