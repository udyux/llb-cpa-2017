!function(){"use strict";function e(e,t,o,r,i){function a(n){if(d)return i(new Error("Scroll cancelled"),t[e]);var r=+new Date,m=Math.min(1,(r-c)/f),p=l(m);t[e]=p*(o-u)+u,s(m<1?a:function(){i(null,t[e])})}var c=+new Date,u=t[e],d=!1,l=n,f=350;return"function"==typeof r?i=r:(l=(r=r||{}).ease||l,f=r.duration||f,i=i||function(){}),u===o?i(new Error("Element already at target scroll position"),t[e]):(s(a),function(){d=!0})}function n(e){return.5*(1-Math.cos(Math.PI*e))}var t=function(e){var n=new XMLHttpRequest,t=function(){};return n.open("GET",e,!0),{then:function(e){return n.onload=function(){(this.status<200||this.status>=400)&&t&&t(this),e(this.response)},n.onerror=t,n.send(),{catch:function(e){t=e}}}}};t("/assets/icons/sprite.svg").then(function(e){var n=document.createElement("figure");n.style.display="none",n.innerHTML=e,document.body.insertBefore(n,document.body.children[0])}).catch(function(e){console.warn("Icon spritesheet could not be loaded\n",e)});var o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r="undefined"!=typeof window?window:void 0!==o?o:"undefined"!=typeof self?self:{},i=Object.freeze({default:r,__moduleExports:r}),a=i&&r||i,c=function(e,n){return n={exports:{}},e(n,n.exports),n.exports}(function(e,n){var t=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||function(e){var n=+new Date,t=Math.max(0,16-(n-o)),r=setTimeout(e,t);return o=n,r},o=+new Date,r=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||clearTimeout;Function.prototype.bind&&(t=t.bind(a),r=r.bind(a)),(e.exports=t).cancel=r}),u=c.cancel,d=Object.freeze({default:c,__moduleExports:c,cancel:u}),s=d&&c||d,l=function(n,t,o,r){return e("scrollTop",n,t,o,r)},f=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)},m=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return[].concat(function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(n.querySelectorAll(e)))},p=function(e){return document.documentElement.scrollTop+f(e).getBoundingClientRect().top-f("[data-header]").clientHeight},h=function(e){e.preventDefault(),l(document.documentElement,p(this.getAttribute("href")),{duration:500})};m("[data-scroll-to]").forEach(function(e){e.addEventListener("click",h)});var v=document.documentElement,g=f("[data-header]"),w=void 0,y=void 0,E=void 0,b=function(){(w>5&&!E||w<=5&&E)&&(E=g.classList.toggle("header--docked")),y=!1};window.addEventListener("scroll",function(){y||requestAnimationFrame(b),y=!0,w=v.scrollTop});m("[data-card]").forEach(function(e){m("[data-card-flip]",e).forEach(function(n){n.addEventListener("click",function(e){return function(){return e.classList.add("card--flip")}}(e))}),m("[data-card-unflip]",e).forEach(function(n){n.addEventListener("click",function(e){return function(){return e.classList.remove("card--flip")}}(e))})});t("/assets/data/map-config.json").then(function(e){var n=JSON.parse(e),t=n.key,o=n.options,r=n.marker,i=function(){return new google.maps.Map(document.getElementById("map"),o)},a=function(e){return new google.maps.Marker({position:r,map:e})};window.initMap=function(){a(i())},document.body.appendChild(function(e){var n=document.createElement("script");return n.setAttribute("async",""),n.setAttribute("defer",""),n.setAttribute("src","https://maps.googleapis.com/maps/api/js?key="+e+"&callback=initMap"),n}(t))}).catch(function(e){return console.log(e)})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9zY3JvbGwvaW5kZXguanMiLCJzY3JpcHRzL21vZHVsZXMvZmV0Y2guanMiLCJzY3JpcHRzL21vZHVsZXMvaWNvbi1zcHJpdGUuanMiLCJub2RlX21vZHVsZXMvZ2xvYmFsL3dpbmRvdy5qcyIsIm5vZGVfbW9kdWxlcy9yYWZsL2luZGV4LmpzIiwic2NyaXB0cy9tb2R1bGVzL2RvbS1oZWxwZXJzLmpzIiwic2NyaXB0cy9tb2R1bGVzL3Njcm9sbC10by5qcyIsInNjcmlwdHMvbW9kdWxlcy9kb2NrLWhlYWRlci5qcyIsInNjcmlwdHMvbW9kdWxlcy9jYXJkLWZsaXAuanMiLCJzY3JpcHRzL21vZHVsZXMvZ29vZ2xlLW1hcC5qcyJdLCJuYW1lcyI6WyJzY3JvbGwiLCJwcm9wIiwiZWxlbWVudCIsInRvIiwib3B0aW9ucyIsImNhbGxiYWNrIiwiYW5pbWF0ZSIsInRpbWVzdGFtcCIsImNhbmNlbGxlZCIsIkVycm9yIiwibm93IiwiRGF0ZSIsInRpbWUiLCJNYXRoIiwibWluIiwic3RhcnQiLCJkdXJhdGlvbiIsImVhc2VkIiwiZWFzZSIsImZyb20iLCJyYWYiLCJpbk91dFNpbmUiLCJuIiwiY29zIiwiUEkiLCJmZXRjaCIsInVyaSIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwiZXJyb3JIYW5kbGVyIiwib3BlbiIsImNiIiwib25sb2FkIiwidGhpcyIsInN0YXR1cyIsInJlc3BvbnNlIiwib25lcnJvciIsInNlbmQiLCJoYW5kbGVyIiwidGhlbiIsInNwcml0ZSIsImZpZ3VyZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiZGlzcGxheSIsImlubmVySFRNTCIsImJvZHkiLCJpbnNlcnRCZWZvcmUiLCJjaGlsZHJlbiIsImNhdGNoIiwiZXJyIiwid2FybiIsIndpbmRvd18xIiwid2luZG93IiwiZ2xvYmFsIiwic2VsZiIsInJlcXVlc3QiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJmbiIsImN1cnIiLCJtcyIsIm1heCIsInByZXYiLCJyZXEiLCJzZXRUaW1lb3V0IiwiY2FuY2VsIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSIsIm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY2xlYXJUaW1lb3V0IiwiRnVuY3Rpb24iLCJwcm90b3R5cGUiLCJiaW5kIiwibW9kdWxlIiwic2Nyb2xsXzEiLCJkb20iLCJxdWVyeSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsInF1ZXJ5U2VsZWN0b3IiLCJzY29wZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZXNvbHZlVGFyZ2V0IiwiaWQiLCJkb2N1bWVudEVsZW1lbnQiLCJzY3JvbGxUb3AiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0b3AiLCJjbGllbnRIZWlnaHQiLCJzY3JvbGxIYW5kbGVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZ2V0QXR0cmlidXRlIiwiZm9yRWFjaCIsIm5vZGUiLCJhZGRFdmVudExpc3RlbmVyIiwicGFnZSIsImhlYWRlciIsImJ1ZmZlciIsImRvY2tlZCIsInVwZGF0ZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImZsaXBOb2RlIiwiYWRkIiwiZ2V0RmxpcEhhbmRsZXIiLCJ1bmZsaXBOb2RlIiwicmVtb3ZlIiwiZ2V0VW5mbGlwSGFuZGxlciIsImNvbmZpZyIsIkpTT04iLCJwYXJzZSIsImtleSIsIl9KU09OJHBhcnNlIiwicG9zaXRpb24iLCJtYXJrZXIiLCJpbml0IiwiZ29vZ2xlIiwibWFwcyIsIk1hcCIsImdldEVsZW1lbnRCeUlkIiwibWFwIiwiTWFya2VyIiwiaW5pdE1hcCIsImFwcGVuZENoaWxkIiwidGFnIiwic2V0QXR0cmlidXRlIiwiZ2V0U2NyaXB0VGFnIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6InlCQUVBLFNBQVNBLEVBQVFDLEVBQU1DLEVBQVNDLEVBQUlD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RUFBUyxJQUFNdUcsR0FDYnZHLEdBQVUsR0FBS3VHLEtBRVJBLEVBQVNGLEVBQU9JLFVBQVVDLE9BQU8sc0JBQzVDLEdBU1hwRCxPQUFPNkMsaUJBQWlCLFNBTkYsV0FDZkcsR0FBUTVDLHNCQUFzQjhDLE1BQzFCLElBQ0FKLEVBQUtYLFlDYmhCWCxFQUFZLGVBQ1RtQixRQUFRLFNBQUFDLEtBQ0ssbUJBQW9CQSxHQUM3QkQsUUFBUSxTQUFBVSxLQUNFUixpQkFBaUIsUUFQWCxTQUFDRCxVQUFTLGtCQUFNQSxFQUFLTyxVQUFVRyxJQUFJLGVBT2ZDLENBQWVYLFFBRzFDLHFCQUFzQkEsR0FDL0JELFFBQVEsU0FBQWEsS0FDSVgsaUJBQWlCLFFBWFgsU0FBQ0QsVUFBUyxrQkFBTUEsRUFBS08sVUFBVU0sT0FBTyxlQVdsQkMsQ0FBaUJkLFFDSjlEekUsRUFBTSxnQ0FDSGMsS0FBSyxTQUFBMEUsU0FDcUNDLEtBQUtDLE1BQU1GLEdBQTlDRyxFQURRQyxFQUNSRCxJQUFLaEgsRUFER2lILEVBQ0hqSCxRQUFpQmtILEVBRGRELEVBQ01FLE9BRWRDLEVBQ0Msa0JBQU0sSUFBSUMsT0FBT0MsS0FBS0MsSUFBSWpGLFNBQVNrRixlQUFlLE9BQVF4SCxJQUQzRG9ILEVBRUksU0FBQ0ssVUFBUSxJQUFJSixPQUFPQyxLQUFLSSxRQUFTUixTQUFBQSxFQUFVTyxJQUFBQSxZQUcvQ0UsUUFBVSxhQUNIUCxlQUdMekUsS0FBS2lGLFlBckJHLFNBQUNaLE9BQ2hCYSxFQUFNdkYsU0FBU0MsY0FBYyxtQkFDN0J1RixhQUFhLFFBQVMsTUFDdEJBLGFBQWEsUUFBUyxNQUN0QkEsYUFBYSxNQUFqQiwrQ0FBdUVkLEVBQXZFLHFCQUNPYSxFQWdCcUJFLENBQWFmLE1BRXhDbEUsTUFBTSxTQUFBQyxVQUFPaUYsUUFBUUMsSUFBSWxGIiwiZmlsZSI6InNpdGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmFmID0gcmVxdWlyZSgncmFmbCcpXG5cbmZ1bmN0aW9uIHNjcm9sbCAocHJvcCwgZWxlbWVudCwgdG8sIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIHZhciBzdGFydCA9ICtuZXcgRGF0ZVxuICB2YXIgZnJvbSA9IGVsZW1lbnRbcHJvcF1cbiAgdmFyIGNhbmNlbGxlZCA9IGZhbHNlXG5cbiAgdmFyIGVhc2UgPSBpbk91dFNpbmVcbiAgdmFyIGR1cmF0aW9uID0gMzUwXG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRpb25zXG4gIH1cbiAgZWxzZSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgICBlYXNlID0gb3B0aW9ucy5lYXNlIHx8IGVhc2VcbiAgICBkdXJhdGlvbiA9IG9wdGlvbnMuZHVyYXRpb24gfHwgZHVyYXRpb25cbiAgICBjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uICgpIHt9XG4gIH1cblxuICBpZiAoZnJvbSA9PT0gdG8pIHtcbiAgICByZXR1cm4gY2FsbGJhY2soXG4gICAgICBuZXcgRXJyb3IoJ0VsZW1lbnQgYWxyZWFkeSBhdCB0YXJnZXQgc2Nyb2xsIHBvc2l0aW9uJyksXG4gICAgICBlbGVtZW50W3Byb3BdXG4gICAgKVxuICB9XG5cbiAgZnVuY3Rpb24gY2FuY2VsICgpIHtcbiAgICBjYW5jZWxsZWQgPSB0cnVlXG4gIH1cblxuICBmdW5jdGlvbiBhbmltYXRlICh0aW1lc3RhbXApIHtcbiAgICBpZiAoY2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soXG4gICAgICAgIG5ldyBFcnJvcignU2Nyb2xsIGNhbmNlbGxlZCcpLFxuICAgICAgICBlbGVtZW50W3Byb3BdXG4gICAgICApXG4gICAgfVxuXG4gICAgdmFyIG5vdyA9ICtuZXcgRGF0ZVxuICAgIHZhciB0aW1lID0gTWF0aC5taW4oMSwgKChub3cgLSBzdGFydCkgLyBkdXJhdGlvbikpXG4gICAgdmFyIGVhc2VkID0gZWFzZSh0aW1lKVxuXG4gICAgZWxlbWVudFtwcm9wXSA9IChlYXNlZCAqICh0byAtIGZyb20pKSArIGZyb21cblxuICAgIHRpbWUgPCAxID8gcmFmKGFuaW1hdGUpIDogcmFmKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGVsZW1lbnRbcHJvcF0pXG4gICAgfSlcbiAgfVxuXG4gIHJhZihhbmltYXRlKVxuXG4gIHJldHVybiBjYW5jZWxcbn1cblxuZnVuY3Rpb24gaW5PdXRTaW5lIChuKSB7XG4gIHJldHVybiAuNSAqICgxIC0gTWF0aC5jb3MoTWF0aC5QSSAqIG4pKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgdG9wOiBmdW5jdGlvbiAoZWxlbWVudCwgdG8sIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHNjcm9sbCgnc2Nyb2xsVG9wJywgZWxlbWVudCwgdG8sIG9wdGlvbnMsIGNhbGxiYWNrKVxuICB9LFxuICBsZWZ0OiBmdW5jdGlvbiAoZWxlbWVudCwgdG8sIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHNjcm9sbCgnc2Nyb2xsTGVmdCcsIGVsZW1lbnQsIHRvLCBvcHRpb25zLCBjYWxsYmFjaylcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgKHVyaSkgPT4ge1xuICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuICBsZXQgZXJyb3JIYW5kbGVyID0gKCkgPT4ge31cblxuICB4aHIub3BlbignR0VUJywgdXJpLCB0cnVlKVxuXG4gIHJldHVybiB7XG4gICAgdGhlbjogKGNiKSA9PiB7XG4gICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGxldCB2YWxpZFJlc3BvbnNlID0gdGhpcy5zdGF0dXMgPCAyMDAgfHwgdGhpcy5zdGF0dXMgPj0gNDAwXG4gICAgICAgIGlmICh2YWxpZFJlc3BvbnNlICYmIGVycm9ySGFuZGxlcikgZXJyb3JIYW5kbGVyKHRoaXMpXG4gICAgICAgIGNiKHRoaXMucmVzcG9uc2UpXG4gICAgICB9XG5cbiAgICAgIHhoci5vbmVycm9yID0gZXJyb3JIYW5kbGVyXG4gICAgICB4aHIuc2VuZCgpXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNhdGNoOiAoaGFuZGxlcikgPT4geyBlcnJvckhhbmRsZXIgPSBoYW5kbGVyIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBmZXRjaCBmcm9tICcuL2ZldGNoJ1xuXG5mZXRjaCgnL2Fzc2V0cy9pY29ucy9zcHJpdGUuc3ZnJylcbiAgLnRoZW4oc3ByaXRlID0+IHtcbiAgICBsZXQgZmlndXJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZmlndXJlJylcbiAgICBmaWd1cmUuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIGZpZ3VyZS5pbm5lckhUTUwgPSBzcHJpdGVcbiAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShmaWd1cmUsIGRvY3VtZW50LmJvZHkuY2hpbGRyZW5bMF0pXG4gIH0pXG4gIC5jYXRjaChlcnIgPT4ge1xuICAgIGNvbnNvbGUud2FybignSWNvbiBzcHJpdGVzaGVldCBjb3VsZCBub3QgYmUgbG9hZGVkXFxuJywgZXJyKVxuICB9KVxuIiwidmFyIHdpbjtcblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB3aW4gPSB3aW5kb3c7XG59IGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB3aW4gPSBnbG9iYWw7XG59IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKXtcbiAgICB3aW4gPSBzZWxmO1xufSBlbHNlIHtcbiAgICB3aW4gPSB7fTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3aW47XG4iLCJ2YXIgZ2xvYmFsID0gcmVxdWlyZSgnZ2xvYmFsJylcblxuLyoqXG4gKiBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKClgXG4gKi9cblxudmFyIHJlcXVlc3QgPSBnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gIHx8IGdsb2JhbC53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgfHwgZ2xvYmFsLm1velJlcXVlc3RBbmltYXRpb25GcmFtZVxuICB8fCBmYWxsYmFja1xuXG52YXIgcHJldiA9ICtuZXcgRGF0ZVxuZnVuY3Rpb24gZmFsbGJhY2sgKGZuKSB7XG4gIHZhciBjdXJyID0gK25ldyBEYXRlXG4gIHZhciBtcyA9IE1hdGgubWF4KDAsIDE2IC0gKGN1cnIgLSBwcmV2KSlcbiAgdmFyIHJlcSA9IHNldFRpbWVvdXQoZm4sIG1zKVxuICByZXR1cm4gcHJldiA9IGN1cnIsIHJlcVxufVxuXG4vKipcbiAqIGBjYW5jZWxBbmltYXRpb25GcmFtZSgpYFxuICovXG5cbnZhciBjYW5jZWwgPSBnbG9iYWwuY2FuY2VsQW5pbWF0aW9uRnJhbWVcbiAgfHwgZ2xvYmFsLndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lXG4gIHx8IGdsb2JhbC5tb3pDYW5jZWxBbmltYXRpb25GcmFtZVxuICB8fCBjbGVhclRpbWVvdXRcblxuaWYgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kKSB7XG4gIHJlcXVlc3QgPSByZXF1ZXN0LmJpbmQoZ2xvYmFsKVxuICBjYW5jZWwgPSBjYW5jZWwuYmluZChnbG9iYWwpXG59XG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVlc3RcbmV4cG9ydHMuY2FuY2VsID0gY2FuY2VsXG4iLCJjb25zdCBmaW5kID0gKHF1ZXJ5LCBzY29wZSA9IGRvY3VtZW50KSA9PlxuICBzY29wZS5xdWVyeVNlbGVjdG9yKHF1ZXJ5KVxuXG5jb25zdCBmaW5kQWxsID0gKHF1ZXJ5LCBzY29wZSA9IGRvY3VtZW50KSA9PlxuICBbLi4uc2NvcGUucXVlcnlTZWxlY3RvckFsbChxdWVyeSldXG5cblxuZXhwb3J0IGRlZmF1bHQgeyBmaW5kLCBmaW5kQWxsIH1cbiIsImltcG9ydCBzY3JvbGwgZnJvbSAnc2Nyb2xsJ1xuaW1wb3J0IGRvbSBmcm9tICcuL2RvbS1oZWxwZXJzJ1xuXG5jb25zdCBuYXZIZWlnaHQgPSAoKSA9PlxuICBkb20uZmluZCgnW2RhdGEtaGVhZGVyXScpLmNsaWVudEhlaWdodFxuXG5jb25zdCByZXNvbHZlVGFyZ2V0ID0gKGlkKSA9PlxuICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wICsgZG9tLmZpbmQoaWQpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAtIG5hdkhlaWdodCgpXG5cbmNvbnN0IHNjcm9sbEhhbmRsZXIgPSBmdW5jdGlvbihlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKVxuICBzY3JvbGwudG9wKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgcmVzb2x2ZVRhcmdldCh0aGlzLmdldEF0dHJpYnV0ZSgnaHJlZicpKSwgeyBkdXJhdGlvbjogNTAwIH0pXG59XG5cbmRvbS5maW5kQWxsKCdbZGF0YS1zY3JvbGwtdG9dJylcbiAgLmZvckVhY2gobm9kZSA9PiB7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNjcm9sbEhhbmRsZXIpXG4gIH0pXG4iLCJpbXBvcnQgZG9tIGZyb20gJy4vZG9tLWhlbHBlcnMnXG5cbmNvbnN0IHBhZ2UgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcbmNvbnN0IGhlYWRlciA9IGRvbS5maW5kKCdbZGF0YS1oZWFkZXJdJylcbmxldCBzY3JvbGwsIGJ1ZmZlciwgZG9ja2VkXG5cblxuY29uc3QgdXBkYXRlID0gKCkgPT4ge1xuICBsZXQgZG9jayA9IHNjcm9sbCA+IDUgJiYgIWRvY2tlZFxuICBsZXQgdW5kb2NrID0gc2Nyb2xsIDw9IDUgJiYgZG9ja2VkXG5cbiAgaWYgKGRvY2sgfHwgdW5kb2NrKSBkb2NrZWQgPSBoZWFkZXIuY2xhc3NMaXN0LnRvZ2dsZSgnaGVhZGVyLS1kb2NrZWQnKVxuICBidWZmZXIgPSBmYWxzZVxufVxuXG5jb25zdCByZXF1ZXN0VXBkYXRlID0gKCkgPT4ge1xuICBpZiAoIWJ1ZmZlcikgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZSlcbiAgYnVmZmVyID0gdHJ1ZVxuICBzY3JvbGwgPSBwYWdlLnNjcm9sbFRvcFxufVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgcmVxdWVzdFVwZGF0ZSlcbiIsImltcG9ydCBkb20gZnJvbSAnLi9kb20taGVscGVycydcblxuY29uc3QgZ2V0RmxpcEhhbmRsZXIgPSAobm9kZSkgPT4gKCkgPT4gbm9kZS5jbGFzc0xpc3QuYWRkKCdjYXJkLS1mbGlwJylcbmNvbnN0IGdldFVuZmxpcEhhbmRsZXIgPSAobm9kZSkgPT4gKCkgPT4gbm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdjYXJkLS1mbGlwJylcblxuZG9tLmZpbmRBbGwoJ1tkYXRhLWNhcmRdJylcbiAgLmZvckVhY2gobm9kZSA9PiB7XG4gICAgZG9tLmZpbmRBbGwoJ1tkYXRhLWNhcmQtZmxpcF0nLCBub2RlKVxuICAgICAgLmZvckVhY2goZmxpcE5vZGUgPT4ge1xuICAgICAgICBmbGlwTm9kZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGdldEZsaXBIYW5kbGVyKG5vZGUpKVxuICAgICAgfSlcblxuICAgIGRvbS5maW5kQWxsKCdbZGF0YS1jYXJkLXVuZmxpcF0nLCBub2RlKVxuICAgICAgLmZvckVhY2godW5mbGlwTm9kZSA9PiB7XG4gICAgICAgIHVuZmxpcE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBnZXRVbmZsaXBIYW5kbGVyKG5vZGUpKVxuICAgICAgfSlcbiAgfSlcbiIsImltcG9ydCBmZXRjaCBmcm9tICcuL2ZldGNoJ1xuXG5jb25zdCBnZXRTY3JpcHRUYWcgPSAoa2V5KSA9PiB7XG4gIGxldCB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKVxuICB0YWcuc2V0QXR0cmlidXRlKCdhc3luYycsICcnKVxuICB0YWcuc2V0QXR0cmlidXRlKCdkZWZlcicsICcnKVxuICB0YWcuc2V0QXR0cmlidXRlKCdzcmMnLCBgaHR0cHM6Ly9tYXBzLmdvb2dsZWFwaXMuY29tL21hcHMvYXBpL2pzP2tleT0ke2tleX0mY2FsbGJhY2s9aW5pdE1hcGApXG4gIHJldHVybiB0YWdcbn1cblxuZmV0Y2goJy9hc3NldHMvZGF0YS9tYXAtY29uZmlnLmpzb24nKVxuICAudGhlbihjb25maWcgPT4ge1xuICAgIGxldCB7IGtleSwgb3B0aW9ucywgbWFya2VyOiBwb3NpdGlvbiB9ID0gSlNPTi5wYXJzZShjb25maWcpXG5cbiAgICBjb25zdCBpbml0ID0ge1xuICAgICAgbWFwOiAoKSA9PiBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSwgb3B0aW9ucyksXG4gICAgICBtYXJrZXI6IChtYXApID0+IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoeyBwb3NpdGlvbiwgbWFwIH0pXG4gICAgfVxuXG4gICAgd2luZG93LmluaXRNYXAgPSAoKSA9PiB7XG4gICAgICBpbml0Lm1hcmtlcihpbml0Lm1hcCgpKVxuICAgIH1cblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZ2V0U2NyaXB0VGFnKGtleSkpXG4gIH0pXG4gIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSlcbiJdfQ==
